# Generated by Django 5.2.10 on 2026-01-08 20:24

import django.core.validators
import django.db.models.deletion
import uuid
from decimal import Decimal
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ("accounts", "0002_initial"),
        ("core", "0001_initial"),
        ("taxes", "0001_initial"),
    ]

    operations = [
        migrations.CreateModel(
            name="RecurringFlow",
            fields=[
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                ("name", models.CharField(max_length=200)),
                ("description", models.TextField(blank=True)),
                (
                    "flow_type",
                    models.CharField(
                        choices=[
                            ("income", "Income"),
                            ("expense", "Expense"),
                            ("transfer", "Transfer"),
                        ],
                        max_length=20,
                    ),
                ),
                (
                    "income_category",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("salary", "Salary/Wages"),
                            ("hourly_wages", "Hourly Wages"),
                            ("overtime", "Overtime Pay"),
                            ("bonus", "Bonus"),
                            ("commission", "Commission"),
                            ("tips", "Tips"),
                            ("self_employment", "Self-Employment Income"),
                            ("freelance", "Freelance/Contract"),
                            ("business_income", "Business Income"),
                            ("dividends", "Dividends"),
                            ("interest", "Interest Income"),
                            ("capital_gains", "Capital Gains"),
                            ("rental_income", "Rental Income"),
                            ("royalties", "Royalties"),
                            ("social_security", "Social Security"),
                            ("pension", "Pension"),
                            ("retirement_distribution", "Retirement Distribution"),
                            ("disability", "Disability Income"),
                            ("unemployment", "Unemployment"),
                            ("child_support_received", "Child Support Received"),
                            ("alimony_received", "Alimony Received"),
                            ("trust_income", "Trust/Estate Income"),
                            ("other_income", "Other Income"),
                        ],
                        max_length=50,
                    ),
                ),
                (
                    "expense_category",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("mortgage_principal", "Mortgage Principal"),
                            ("mortgage_interest", "Mortgage Interest"),
                            ("rent", "Rent"),
                            ("property_tax", "Property Tax"),
                            ("homeowners_insurance", "Homeowner's Insurance"),
                            ("renters_insurance", "Renter's Insurance"),
                            ("hoa_fees", "HOA/Condo Fees"),
                            ("home_maintenance", "Home Maintenance & Repairs"),
                            ("home_improvement", "Home Improvement"),
                            ("lawn_garden", "Lawn & Garden"),
                            ("home_security", "Home Security"),
                            ("electricity", "Electricity"),
                            ("natural_gas", "Natural Gas"),
                            ("water_sewer", "Water & Sewer"),
                            ("trash", "Trash/Recycling"),
                            ("internet", "Internet"),
                            ("phone", "Phone/Mobile"),
                            ("cable_streaming", "Cable/Streaming"),
                            ("auto_loan", "Auto Loan Payment"),
                            ("auto_lease", "Auto Lease Payment"),
                            ("auto_insurance", "Auto Insurance"),
                            ("gas_fuel", "Gas/Fuel"),
                            ("auto_maintenance", "Auto Maintenance"),
                            ("parking", "Parking"),
                            ("tolls", "Tolls"),
                            ("public_transit", "Public Transit"),
                            ("rideshare", "Rideshare/Taxi"),
                            ("health_insurance", "Health Insurance"),
                            ("dental_insurance", "Dental Insurance"),
                            ("vision_insurance", "Vision Insurance"),
                            ("life_insurance", "Life Insurance"),
                            ("disability_insurance", "Disability Insurance"),
                            ("umbrella_insurance", "Umbrella Insurance"),
                            ("medical_expenses", "Medical Expenses"),
                            ("dental_expenses", "Dental Expenses"),
                            ("vision_expenses", "Vision/Optical"),
                            ("prescriptions", "Prescriptions"),
                            ("mental_health", "Mental Health"),
                            ("gym_fitness", "Gym/Fitness"),
                            ("groceries", "Groceries"),
                            ("dining_out", "Dining Out"),
                            ("coffee_snacks", "Coffee/Snacks"),
                            ("food_delivery", "Food Delivery"),
                            ("credit_card_payment", "Credit Card Payment"),
                            ("student_loan", "Student Loan Payment"),
                            ("personal_loan", "Personal Loan Payment"),
                            ("heloc_payment", "HELOC Payment"),
                            ("other_debt", "Other Debt Payment"),
                            ("childcare", "Childcare/Daycare"),
                            ("child_activities", "Children Activities"),
                            ("school_tuition", "School Tuition (K-12)"),
                            ("child_support_paid", "Child Support Paid"),
                            ("college_tuition", "College Tuition"),
                            ("books_supplies", "Books & Supplies"),
                            ("professional_dev", "Professional Development"),
                            ("clothing", "Clothing"),
                            ("personal_care", "Personal Care"),
                            ("entertainment", "Entertainment"),
                            ("hobbies", "Hobbies"),
                            ("subscriptions", "Subscriptions"),
                            ("vacation_travel", "Vacation/Travel"),
                            ("pet_food", "Pet Food"),
                            ("pet_vet", "Pet Veterinary"),
                            ("pet_supplies", "Pet Supplies"),
                            ("charitable", "Charitable Donations"),
                            ("religious", "Religious Contributions"),
                            ("gifts", "Gifts to Others"),
                            ("bank_fees", "Bank Fees"),
                            ("investment_fees", "Investment Fees"),
                            ("tax_prep", "Tax Preparation"),
                            ("estimated_tax", "Estimated Tax Payments"),
                            ("business_office", "Office Expenses"),
                            ("business_supplies", "Business Supplies"),
                            ("business_advertising", "Advertising & Marketing"),
                            ("business_professional", "Professional Services"),
                            ("business_travel", "Business Travel"),
                            ("business_vehicle", "Business Vehicle/Mileage"),
                            ("business_rent", "Business Rent/Lease"),
                            ("business_utilities", "Business Utilities"),
                            ("business_equipment", "Equipment & Tools"),
                            ("business_insurance", "Business Insurance"),
                            ("business_license", "Licenses & Permits"),
                            ("business_software", "Software & Subscriptions"),
                            ("business_contractor", "Contract Labor"),
                            ("business_other", "Other Business Expense"),
                            ("rental_mortgage", "Rental Property Mortgage"),
                            ("rental_insurance", "Rental Property Insurance"),
                            ("rental_repairs", "Rental Repairs & Maintenance"),
                            ("rental_management", "Property Management"),
                            ("rental_utilities", "Rental Property Utilities"),
                            ("rental_tax", "Rental Property Tax"),
                            ("rental_other", "Other Rental Expense"),
                            ("alimony_paid", "Alimony Paid"),
                            ("household_supplies", "Household Supplies"),
                            ("miscellaneous", "Miscellaneous"),
                        ],
                        max_length=50,
                    ),
                ),
                (
                    "amount",
                    models.DecimalField(
                        decimal_places=2,
                        max_digits=12,
                        validators=[
                            django.core.validators.MinValueValidator(Decimal("0.01"))
                        ],
                    ),
                ),
                (
                    "frequency",
                    models.CharField(
                        choices=[
                            ("weekly", "Weekly"),
                            ("biweekly", "Every 2 Weeks"),
                            ("semimonthly", "Twice a Month"),
                            ("monthly", "Monthly"),
                            ("bimonthly", "Every 2 Months"),
                            ("quarterly", "Quarterly"),
                            ("semiannually", "Twice a Year"),
                            ("annually", "Annually"),
                        ],
                        max_length=20,
                    ),
                ),
                ("start_date", models.DateField()),
                ("end_date", models.DateField(blank=True, null=True)),
                ("is_active", models.BooleanField(default=True)),
                ("is_baseline", models.BooleanField(default=True)),
                ("notes", models.TextField(blank=True)),
                ("is_system_generated", models.BooleanField(default=False)),
                ("system_source_model", models.CharField(blank=True, max_length=100)),
                ("system_source_id", models.UUIDField(blank=True, null=True)),
                ("system_flow_kind", models.CharField(blank=True, max_length=50)),
                ("calculation_version", models.PositiveIntegerField(default=1)),
                (
                    "from_account",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="outgoing_flows",
                        to="accounts.account",
                    ),
                ),
                (
                    "household",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        to="core.household",
                    ),
                ),
                (
                    "household_member",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="flows",
                        to="core.householdmember",
                    ),
                ),
                (
                    "income_source",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="flows",
                        to="taxes.incomesource",
                    ),
                ),
                (
                    "linked_account",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="linked_flows",
                        to="accounts.account",
                    ),
                ),
                (
                    "to_account",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="incoming_flows",
                        to="accounts.account",
                    ),
                ),
            ],
            options={
                "db_table": "recurring_flows",
                "ordering": ["flow_type", "-amount"],
            },
        ),
    ]
